from src.load_models import load_model
from src.predictions import inference
from src.postprocessing import postprocessing
import hydra_zen
from hydra_zen import builds, instantiate

config = hydra_zen.load_from_yaml("/tank/tgn252/metadata_annotations/config.yaml")
@hydra_zen.pipeline
def my_pipeline(config):
    # Load the models.
    models, transformations = instantiate(config.models)
    inputs = config["inputs"].get('path')
    outputs = inference(config, models, transformations, inputs)
    postprocessed = postprocessing(outputs, config)
    # store_data = store_data(postprocessed, config)
